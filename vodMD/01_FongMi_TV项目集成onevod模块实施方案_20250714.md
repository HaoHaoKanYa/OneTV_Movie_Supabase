# FongMi_TVé¡¹ç›®é›†æˆonevodæ¨¡å—å®æ–½æ–¹æ¡ˆ

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-07-14  
**å®æ–½æ–¹æ¡ˆ**: æ–¹æ¡ˆA - ç›´æ¥æ¨¡å—é›†æˆ  
**ç›®æ ‡**: å°†å®Œæ•´FongMi_TVé¡¹ç›®é›†æˆåˆ°onevodæ¨¡å—ï¼Œä¿æŒæ‰€æœ‰åŠŸèƒ½ä¸å˜

## ğŸ“‹ é¡¹ç›®ç°çŠ¶åˆ†æ

### æºé¡¹ç›®ç»“æ„ (FongMi_TV)
```
FongMi_TV/
â”œâ”€â”€ app/                    # ä¸»åº”ç”¨æ¨¡å— âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ catvod/                 # çˆ¬è™«æ ¸å¿ƒå¼•æ“ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ quickjs/                # JavaScriptå¼•æ“ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ chaquo/                 # Pythonå¼•æ“ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ hook/                   # Hookæœºåˆ¶ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ forcetech/              # è§£æå™¨æ¨¡å— âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ jianpian/               # è§£æå™¨æ¨¡å— âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ thunder/                # è¿…é›·è§£æå™¨ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ tvbus/                  # ç›´æ’­è§£æå™¨ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ zlive/                  # ç›´æ’­æ¨¡å— âŒ æ’é™¤(ä¸ä¸»åº”ç”¨ç›´æ’­åŠŸèƒ½é‡å¤)
â”œâ”€â”€ other/                  # èµ„æºæ–‡ä»¶ âœ… å®Œæ•´é›†æˆ
â”œâ”€â”€ gradle/                 # Gradleé…ç½® âœ… å‚è€ƒé›†æˆ
â”œâ”€â”€ LICENSE.md              # è®¸å¯è¯æ–‡ä»¶ âœ… ä¿ç•™
â””â”€â”€ README.md               # è¯´æ˜æ–‡æ¡£ âœ… ä¿ç•™
```

**åŠŸèƒ½å®Œæ•´æ€§ä¿è¯**: é™¤zliveæ¨¡å—å¤–ï¼ŒFongMi_TVçš„æ‰€æœ‰åŠŸèƒ½æ¨¡å—100%å®Œæ•´é›†æˆ

### ç›®æ ‡ç»“æ„ (onevodæ¨¡å—)
```
onevod/
â”œâ”€â”€ src/main/
â”‚   â”œâ”€â”€ java/               # ä»FongMi_TV/app/src/main/javaå®Œæ•´å¤åˆ¶
â”‚   â”œâ”€â”€ leanback/           # ä»FongMi_TV/app/src/leanbackå®Œæ•´å¤åˆ¶
â”‚   â”œâ”€â”€ mobile/             # ä»FongMi_TV/app/src/mobileå®Œæ•´å¤åˆ¶
â”‚   â”œâ”€â”€ res/                # ä»FongMi_TV/app/src/main/reså®Œæ•´å¤åˆ¶
â”‚   â”œâ”€â”€ assets/             # ä»FongMi_TV/app/src/main/assetså®Œæ•´å¤åˆ¶
â”‚   â””â”€â”€ AndroidManifest.xml # ä¿®æ”¹ä¸ºlibraryé…ç½®
â”œâ”€â”€ catvod/                 # å®Œæ•´å¤åˆ¶FongMi_TV/catvod (çˆ¬è™«æ ¸å¿ƒ)
â”œâ”€â”€ quickjs/                # å®Œæ•´å¤åˆ¶FongMi_TV/quickjs (JSå¼•æ“)
â”œâ”€â”€ chaquo/                 # å®Œæ•´å¤åˆ¶FongMi_TV/chaquo (Pythonå¼•æ“)
â”œâ”€â”€ hook/                   # å®Œæ•´å¤åˆ¶FongMi_TV/hook (Hookæœºåˆ¶)
â”œâ”€â”€ forcetech/              # å®Œæ•´å¤åˆ¶FongMi_TV/forcetech (è§£æå™¨)
â”œâ”€â”€ jianpian/               # å®Œæ•´å¤åˆ¶FongMi_TV/jianpian (è§£æå™¨)
â”œâ”€â”€ thunder/                # å®Œæ•´å¤åˆ¶FongMi_TV/thunder (è¿…é›·è§£æå™¨)
â”œâ”€â”€ tvbus/                  # å®Œæ•´å¤åˆ¶FongMi_TV/tvbus (ç›´æ’­è§£æå™¨)
â”œâ”€â”€ libs/                   # ä»FongMi_TV/app/libså®Œæ•´å¤åˆ¶
â”œâ”€â”€ schemas/                # ä»FongMi_TV/app/schemaså®Œæ•´å¤åˆ¶
â”œâ”€â”€ other/                  # ä»FongMi_TV/otherå®Œæ•´å¤åˆ¶(èµ„æºæ–‡ä»¶)
â”œâ”€â”€ proguard-rules.pro      # ä»FongMi_TV/app/proguard-rules.proå¤åˆ¶
â”œâ”€â”€ consumer-rules.pro      # æ–°å»ºlibraryæ··æ·†è§„åˆ™
â””â”€â”€ build.gradle.kts        # æ–°å»ºlibraryé…ç½®
```

**é›†æˆå®Œæ•´æ€§**:
- âœ… æ‰€æœ‰UIç•Œé¢(leanback + mobile)
- âœ… æ‰€æœ‰è§£æå™¨æ¨¡å—(8ä¸ª)
- âœ… æ‰€æœ‰å¼•æ“æ¨¡å—(Java + JS + Python)
- âœ… æ‰€æœ‰èµ„æºæ–‡ä»¶å’Œé…ç½®
- âœ… æ‰€æœ‰ç¬¬ä¸‰æ–¹åº“å’Œä¾èµ–

## ğŸ¯ å®æ–½æ­¥éª¤è¯¦è§£

### ç¬¬ä¸€é˜¶æ®µï¼šæ¨¡å—ç»“æ„åˆ›å»º

#### 1.1 åˆ›å»ºonevodæ¨¡å—åŸºç¡€ç»“æ„
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
mkdir -p onevod/src/main/java
mkdir -p onevod/src/main/res
mkdir -p onevod/src/main/assets
mkdir -p onevod/libs
```

#### 1.2 å¤åˆ¶æ ¸å¿ƒå­æ¨¡å—
```bash
# å¤åˆ¶æ‰€æœ‰å­æ¨¡å—(é™¤zliveå¤–) - ç¡®ä¿åŠŸèƒ½å®Œæ•´æ€§
cp -r FongMi_TV/catvod onevod/          # çˆ¬è™«æ ¸å¿ƒå¼•æ“
cp -r FongMi_TV/quickjs onevod/         # JavaScriptå¼•æ“
cp -r FongMi_TV/chaquo onevod/          # Pythonå¼•æ“
cp -r FongMi_TV/hook onevod/            # Hookæœºåˆ¶
cp -r FongMi_TV/forcetech onevod/       # è§£æå™¨æ¨¡å—
cp -r FongMi_TV/jianpian onevod/        # è§£æå™¨æ¨¡å—
cp -r FongMi_TV/thunder onevod/         # è¿…é›·è§£æå™¨
cp -r FongMi_TV/tvbus onevod/           # ç›´æ’­è§£æå™¨
cp -r FongMi_TV/other onevod/           # èµ„æºæ–‡ä»¶å’Œå·¥å…·
```

#### 1.3 å¤åˆ¶ä¸»åº”ç”¨å†…å®¹
```bash
# å¤åˆ¶appæ¨¡å—å†…å®¹åˆ°onevodä¸»ç›®å½• - ç¡®ä¿æ‰€æœ‰åŠŸèƒ½å®Œæ•´
cp -r FongMi_TV/app/src/main/java/* onevod/src/main/java/
cp -r FongMi_TV/app/src/main/res/* onevod/src/main/res/
cp -r FongMi_TV/app/src/main/assets/* onevod/src/main/assets/
cp -r FongMi_TV/app/libs/* onevod/libs/
cp -r FongMi_TV/app/schemas/* onevod/schemas/
cp FongMi_TV/app/proguard-rules.pro onevod/
cp FongMi_TV/LICENSE.md onevod/
cp FongMi_TV/README.md onevod/
```

### ç¬¬äºŒé˜¶æ®µï¼šé…ç½®æ–‡ä»¶ä¿®æ”¹

#### 2.1 åˆ›å»ºonevod/build.gradle.kts
```kotlin
plugins {
    id("com.onetv.library")
    id("org.jetbrains.kotlin.onetv")
    id("com.chaquo.python")
}

android {
    namespace = "onetvv"
    compileSdk = 35
    
    flavorDimensions += listOf("mode", "api", "abi")
    
    defaultConfig {
        minSdk = 21
        targetSdk = 28
        
        testInstrumentationRunner = "androidx.test.runner.AndroidJUnitRunner"
        consumerProguardFiles("consumer-rules.pro")
        
        javaCompileOptions {
            annotationProcessorOptions {
                arguments += mapOf(
                    "room.schemaLocation" to "$projectDir/schemas",
                    "eventBusIndex" to "onetvv.event.EventIndex"
                )
            }
        }
    }
    
    productFlavors {
        create("leanback") {
            dimension = "mode"
        }
        create("mobile") {
            dimension = "mode"
        }
        create("java") {
            dimension = "api"
        }
        create("python") {
            dimension = "api"
        }
        create("arm64_v8a") {
            dimension = "abi"
            ndk {
                abiFilters += "arm64-v8a"
            }
        }
        create("armeabi_v7a") {
            dimension = "abi"
            ndk {
                abiFilters += "armeabi-v7a"
            }
        }
    }
    
    buildFeatures {
        buildConfig = true
        viewBinding = true
    }
    
    buildTypes {
        release {
            isMinifyEnabled = true
            proguardFiles(
                getDefaultProguardFile("proguard-onetv-optimize.txt"),
                "proguard-rules.pro"
            )
        }
    }
    
    packagingOptions {
        resources {
            excludes += listOf(
                "META-INF/beans.xml",
                "META-INF/versions/9/OSGI-INF/MANIFEST.MF"
            )
        }
    }
    
    compileOptions {
        isCoreLibraryDesugaringEnabled = true
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }
    
    kotlinOptions {
        jvmTarget = "11"
    }
}

dependencies {
    implementation(fileTree(mapOf("dir" to "libs", "include" to listOf("*.aar"))))
    
    // å­æ¨¡å—ä¾èµ–
    implementation(project(":onevod:catvod"))
    implementation(project(":onevod:chaquo"))
    implementation(project(":onevod:quickjs"))
    implementation(project(":onevod:hook"))
    implementation(project(":onevod:forcetech"))
    implementation(project(":onevod:jianpian"))
    implementation(project(":onevod:thunder"))
    implementation(project(":onevod:tvbus"))
    
    // æ ¸å¿ƒä¾èµ–
    implementation("androidx.appcompat:appcompat:1.7.0")
    implementation("androidx.media:media:1.7.0")
    implementation("androidx.media3:media3-common:1.6.1")
    implementation("androidx.media3:media3-container:1.6.1")
    implementation("androidx.media3:media3-database:1.6.1")
    implementation("androidx.media3:media3-datasource:1.6.1")
    implementation("androidx.media3:media3-datasource-okhttp:1.6.1")
    implementation("androidx.media3:media3-datasource-rtmp:1.6.1")
    implementation("androidx.media3:media3-decoder:1.6.1")
    implementation("androidx.media3:media3-effect:1.6.1")
    implementation("androidx.media3:media3-exoplayer:1.6.1")
    implementation("androidx.media3:media3-exoplayer-dash:1.6.1")
    implementation("androidx.media3:media3-exoplayer-hls:1.6.1")
    implementation("androidx.media3:media3-exoplayer-rtsp:1.6.1")
    implementation("androidx.media3:media3-exoplayer-smoothstreaming:1.6.1")
    implementation("androidx.media3:media3-extractor:1.6.1")
    implementation("androidx.media3:media3-ui:1.6.1")
    implementation("androidx.room:room-runtime:2.7.1")
    
    // ç½‘ç»œå’Œè§£æ
    implementation("com.squareup.okhttp3:okhttp:5.0.0-alpha.14")
    implementation("com.squareup.okhttp3:okhttp-dnsoverhttps:5.0.0-alpha.14")
    implementation("com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.14")
    implementation("com.google.code.gson:gson:2.11.0")
    
    // UIç»„ä»¶
    implementation("com.google.onetv.material:material:1.12.0")
    implementation("com.github.bumptech.glide:glide:4.16.0")
    implementation("com.github.bumptech.glide:annotations:4.16.0")
    implementation("com.github.bumptech.glide:avif-integration:4.16.0") {
        exclude(group = "org.aomedia.avif.onetv", module = "avif")
    }
    implementation("com.github.bumptech.glide:okhttp3-integration:4.16.0")
    
    // å…¶ä»–ä¾èµ–
    implementation("cat.ereza:customactivityoncrash:2.4.0")
    implementation("com.github.anilbeesetti.nextlib:nextlib-media3ext:0.8.4") {
        exclude(group = "androidx.media3")
    }
    implementation("com.github.bassaer:materialdesigncolors:1.0.0")
    implementation("com.github.jahirfiquitiva:TextDrawable:1.0.3")
    implementation("com.github.thegrizzlylabs:sardine-onetv:0.9")
    implementation("com.github.teamnewpipe:NewPipeExtractor:v0.24.6")
    implementation("com.google.zxing:core:3.5.3")
    implementation("com.guolindev.permissionx:permissionx:1.8.0")
    implementation("com.hierynomus:smbj:0.14.0")
    implementation("io.antmedia:rtmp-client:3.2.0")
    implementation("javax.servlet:javax.servlet-api:3.1.0")
    implementation("org.aomedia.avif.onetv:avif:1.1.1.14d8e3c4")
    implementation("org.eclipse.jetty:jetty-client:8.1.21.v20160908")
    implementation("org.eclipse.jetty:jetty-server:8.1.21.v20160908") {
        exclude(group = "org.eclipse.jetty.orbit", module = "javax.servlet")
    }
    implementation("org.eclipse.jetty:jetty-servlet:8.1.21.v20160908") {
        exclude(group = "org.eclipse.jetty.orbit", module = "javax.servlet")
    }
    implementation("org.fourthline.cling:cling-core:2.1.1")
    implementation("org.fourthline.cling:cling-support:2.1.1")
    implementation("org.greenrobot:eventbus:3.3.1")
    implementation("org.nanohttpd:nanohttpd:2.3.1")
    implementation("org.simpleframework:simple-xml:2.7.1") {
        exclude(group = "stax", module = "stax-api")
        exclude(group = "xpp3", module = "xpp3")
    }
    
    // Leanbackç‰¹å®šä¾èµ–
    "leanbackImplementation"("androidx.leanback:leanback:1.2.0")
    "leanbackImplementation"("com.github.JessYanCoding:AndroidAutoSize:1.2.1")
    
    // Mobileç‰¹å®šä¾èµ–
    "mobileImplementation"("androidx.biometric:biometric:1.1.0")
    "mobileImplementation"("androidx.swiperefreshlayout:swiperefreshlayout:1.1.0")
    "mobileImplementation"("com.google.onetv.flexbox:flexbox:3.0.0")
    "mobileImplementation"("com.journeyapps:zxing-onetv-embedded:4.3.0") {
        isTransitive = false
    }
    
    // æ³¨è§£å¤„ç†å™¨
    annotationProcessor("androidx.room:room-compiler:2.7.1")
    annotationProcessor("com.github.bumptech.glide:compiler:4.16.0")
    annotationProcessor("org.greenrobot:eventbus-annotation-processor:3.3.1")
    
    coreLibraryDesugaring("com.onetv.tools:desugar_jdk_libs_nio:2.1.4")
}
```

#### 2.2 ä¿®æ”¹settings.gradle.kts
```kotlin
// åœ¨é¡¹ç›®æ ¹ç›®å½•çš„settings.gradle.ktsä¸­æ·»åŠ  - åŒ…å«æ‰€æœ‰åŠŸèƒ½æ¨¡å—
include(":onevod")                    # ä¸»æ¨¡å—
include(":onevod:catvod")            # çˆ¬è™«æ ¸å¿ƒå¼•æ“
include(":onevod:chaquo")            # Pythonå¼•æ“
include(":onevod:quickjs")           # JavaScriptå¼•æ“
include(":onevod:hook")              # Hookæœºåˆ¶
include(":onevod:forcetech")         # è§£æå™¨æ¨¡å—
include(":onevod:jianpian")          # è§£æå™¨æ¨¡å—
include(":onevod:thunder")           # è¿…é›·è§£æå™¨
include(":onevod:tvbus")             # ç›´æ’­è§£æå™¨
// æ³¨æ„ï¼šä¸åŒ…å«zliveæ¨¡å—(ä¸ä¸»åº”ç”¨ç›´æ’­åŠŸèƒ½é‡å¤)
// æ‰€æœ‰å…¶ä»–åŠŸèƒ½æ¨¡å—100%å®Œæ•´åŒ…å«
```

#### 2.3 åˆ›å»ºonevod/AndroidManifest.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- ç½‘ç»œæƒé™ -->
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />

    <!-- å­˜å‚¨æƒé™ -->
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

    <!-- å…¶ä»–æƒé™ -->
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />

    <application>
        <!-- å¯¼å‡ºçš„Activityä¾›ä¸»åº”ç”¨è°ƒç”¨ -->
        <activity android:name="com.fongmi.onetv.tv.ui.activity.HomeActivity"
            android:exported="true" android:theme="@style/AppTheme"
            android:launchMode="singleTop" />

        <activity android:name="com.fongmi.onetv.tv.ui.activity.VodActivity" android:exported="true"
            android:theme="@style/AppTheme" />

        <activity android:name="com.fongmi.onetv.tv.ui.activity.VideoActivity"
            android:exported="true" android:theme="@style/AppTheme"
            android:configChanges="orientation|screenSize|keyboardHidden" />

        <!-- æœåŠ¡ -->
        <service android:name="com.fongmi.onetv.tv.service.PlaybackService"
            android:exported="false" />

        <!-- æ¥æ”¶å™¨ -->
        <receiver android:name="com.fongmi.onetv.tv.receiver.ActionReceiver"
            android:exported="false" />
    </application>
</manifest>
```

### ç¬¬ä¸‰é˜¶æ®µï¼šå­æ¨¡å—é…ç½®

#### 3.1 å¤åˆ¶å¹¶ä¿®æ”¹å­æ¨¡å—build.gradle
```bash
# ä¸ºæ¯ä¸ªå­æ¨¡å—åˆ›å»ºbuild.gradle.kts
# catvod, quickjs, chaquo, hook, forcetech, jianpian, thunder, tvbus
```

#### 3.2 å­æ¨¡å—build.gradle.ktsæ¨¡æ¿
```kotlin
// onevod/catvod/build.gradle.kts
plugins {
    id("com.onetv.library")
}

android {
    namespace = "com.github.catvod.crawler"
    compileSdk = 35

    defaultConfig {
        minSdk = 21
        targetSdk = 28
    }

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }
}

dependencies {
    api("androidx.annotation:annotation:1.6.0")
    api("androidx.preference:preference:1.2.1")
    api("com.google.code.gson:gson:2.11.0")
    api("com.google.net.cronet:cronet-okhttp:0.1.0")
    api("com.googlecode.juniversalchardet:juniversalchardet:1.0.3")
    api("com.orhanobut:logger:2.2.0")
    api("com.squareup.okhttp3:okhttp:5.0.0-alpha.14")
    api("com.squareup.okhttp3:okhttp-dnsoverhttps:5.0.0-alpha.14")
    api("com.squareup.okhttp3:logging-interceptor:5.0.0-alpha.14")
    api("org.chromium.net:cronet-embedded:76.3809.111")
    api("com.google.guava:guava:33.3.1-onetv") {
        exclude(group = "com.google.code.findbugs", module = "jsr305")
        exclude(group = "org.checkerframework", module = "checker-compat-qual")
        exclude(group = "org.checkerframework", module = "checker-qual")
        exclude(group = "com.google.errorprone", module = "error_prone_annotations")
        exclude(group = "com.google.j2objc", module = "j2objc-annotations")
        exclude(group = "org.codehaus.mojo", module = "animal-sniffer-annotations")
    }
}
```

### ç¬¬å››é˜¶æ®µï¼šåŠŸèƒ½ä¿æŒéªŒè¯

#### 4.1 æ ¸å¿ƒåŠŸèƒ½æ£€æŸ¥æ¸…å•

##### å¼•æ“æ¨¡å— (100%å®Œæ•´)
- âœ… çˆ¬è™«å¼•æ“ (catvod) - Spideræ¥å£ã€ç½‘ç»œå°è£…ã€å·¥å…·ç±»
- âœ… JavaScriptå¼•æ“ (quickjs) - JSè„šæœ¬æ‰§è¡Œã€åŸç”Ÿåº“æ”¯æŒ
- âœ… Pythonå¼•æ“ (chaquo) - Pythonè„šæœ¬æ‰§è¡Œã€åŒ…ç®¡ç†

##### è§£æå™¨æ¨¡å— (100%å®Œæ•´)
- âœ… Hookæœºåˆ¶ (hook) - åŠ¨æ€Hookã€æ¥å£æ‰©å±•
- âœ… forcetechè§£æå™¨ - ç‰¹å®šç«™ç‚¹è§£æ
- âœ… jianpianè§£æå™¨ - ç‰¹å®šç«™ç‚¹è§£æ
- âœ… thunderè§£æå™¨ - è¿…é›·åè®®æ”¯æŒ
- âœ… tvbusè§£æå™¨ - ç›´æ’­æµè§£æ

##### æ ¸å¿ƒåŠŸèƒ½ (100%å®Œæ•´)
- âœ… åª’ä½“æ’­æ”¾ (ExoPlayer) - å¤šæ ¼å¼æ”¯æŒã€å­—å¹•ã€å¼¹å¹•
- âœ… ç½‘ç»œè¯·æ±‚ (OkHttp) - HTTP/HTTPSã€ä»£ç†ã€DNS over HTTPS
- âœ… æ•°æ®å­˜å‚¨ (Room) - æœ¬åœ°æ•°æ®åº“ã€é…ç½®ç¼“å­˜
- âœ… é…ç½®ç®¡ç† (VodConfig, LiveConfig) - åŠ¨æ€é…ç½®ã€å¤šæºç®¡ç†

##### UIç•Œé¢ (100%å®Œæ•´)
- âœ… Leanbackç•Œé¢ - Android TVä¸“ç”¨UI
- âœ… Mobileç•Œé¢ - æ‰‹æœºç‰ˆUI
- âœ… æ‰€æœ‰Activity - Home, Vod, Video, Search, Settingç­‰
- âœ… æ‰€æœ‰Fragment - åˆ—è¡¨ã€è¯¦æƒ…ã€æ’­æ”¾å™¨ç­‰
- âœ… æ‰€æœ‰Adapter - RecyclerViewé€‚é…å™¨
- âœ… è‡ªå®šä¹‰æ§ä»¶ - æ’­æ”¾å™¨æ§åˆ¶ã€ç„¦ç‚¹ç®¡ç†ç­‰

#### 4.2 æ’é™¤åŠŸèƒ½æ¸…å•
- âŒ zliveæ¨¡å— (ç›´æ’­åŠŸèƒ½ï¼Œä¸»åº”ç”¨å·²æœ‰)
- âŒ ç‹¬ç«‹åº”ç”¨å…¥å£ (æ”¹ä¸ºlibraryæ¨¡å¼)

### ç¬¬äº”é˜¶æ®µï¼šé›†æˆæµ‹è¯•

#### 5.1 åœ¨ä¸»åº”ç”¨ä¸­æ·»åŠ ä¾èµ–
```kotlin
// mobile/build.gradle.kts æˆ– tv/build.gradle.kts
dependencies {
    implementation(project(":onevod"))
}
```

#### 5.2 åˆ›å»ºå…¥å£Activity
```kotlin
// åœ¨ä¸»åº”ç”¨ä¸­åˆ›å»ºç‚¹æ’­å…¥å£
class VodEntryActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)

        // å¯åŠ¨FongMiç‚¹æ’­ç³»ç»Ÿ
        val intent = Intent(this, onetv.tv.ui.activity.HomeActivity::class.java)
        startActivity(intent)
        finish()
    }
}
```

#### 5.3 é…ç½®å…±äº«å®ç°
```kotlin
// åˆ›å»ºé…ç½®æ¡¥æ¥ç±»
class OneVodConfigBridge {
    companion object {
        fun shareConfigToVod(context: Context) {
            val sharedPrefs = context.getSharedPreferences("onetv_config", Context.MODE_PRIVATE)
            val vodPrefs = context.getSharedPreferences("vod_config", Context.MODE_PRIVATE)

            with(vodPrefs.edit()) {
                putString("supabase_url", sharedPrefs.getString("supabase_url", ""))
                putString("api_key", sharedPrefs.getString("api_key", ""))
                putString("user_token", sharedPrefs.getString("user_token", ""))
                apply()
            }
        }
    }
}
```

## ğŸ¯ é¢„æœŸç»“æœ

### åŠŸèƒ½å®Œæ•´æ€§å¯¹æ¯”è¡¨

| åŠŸèƒ½æ¨¡å— | FongMi_TVåŸé¡¹ç›® | onevodé›†æˆå | å®Œæ•´æ€§ |
|---------|----------------|-------------|--------|
| çˆ¬è™«æ ¸å¿ƒå¼•æ“ | âœ… catvod | âœ… catvod | 100% |
| JavaScriptå¼•æ“ | âœ… quickjs | âœ… quickjs | 100% |
| Pythonå¼•æ“ | âœ… chaquo | âœ… chaquo | 100% |
| Hookæœºåˆ¶ | âœ… hook | âœ… hook | 100% |
| forcetechè§£æå™¨ | âœ… forcetech | âœ… forcetech | 100% |
| jianpianè§£æå™¨ | âœ… jianpian | âœ… jianpian | 100% |
| thunderè§£æå™¨ | âœ… thunder | âœ… thunder | 100% |
| tvbusè§£æå™¨ | âœ… tvbus | âœ… tvbus | 100% |
| ç›´æ’­åŠŸèƒ½ | âœ… zlive | âŒ æ’é™¤ | 0% (ä¸»åº”ç”¨å·²æœ‰) |
| Leanback UI | âœ… å®Œæ•´ | âœ… å®Œæ•´ | 100% |
| Mobile UI | âœ… å®Œæ•´ | âœ… å®Œæ•´ | 100% |
| åª’ä½“æ’­æ”¾ | âœ… ExoPlayer | âœ… ExoPlayer | 100% |
| ç½‘ç»œåŠŸèƒ½ | âœ… OkHttp | âœ… OkHttp | 100% |
| æ•°æ®å­˜å‚¨ | âœ… Room | âœ… Room | 100% |
| é…ç½®ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | 100% |
| ç¬¬ä¸‰æ–¹åº“ | âœ… å®Œæ•´ | âœ… å®Œæ•´ | 100% |

**æ€»ä½“åŠŸèƒ½ä¿ç•™ç‡: 95%** (ä»…æ’é™¤ä¸ä¸»åº”ç”¨é‡å¤çš„ç›´æ’­åŠŸèƒ½)

### é›†æˆæ•ˆæœ
- âœ… ä½œä¸ºlibraryæ¨¡å—æ— ç¼é›†æˆ
- âœ… ä¸ä¸»åº”ç”¨å…±äº«é…ç½®å’Œèµ„æº
- âœ… ç‹¬ç«‹çš„ç‚¹æ’­åŠŸèƒ½å…¥å£
- âœ… ä¸å½±å“ç°æœ‰ç›´æ’­åŠŸèƒ½
- âœ… ä¿æŒæ‰€æœ‰åŸæœ‰åŠŸèƒ½ç‰¹æ€§

### æ€§èƒ½ä¼˜åŒ–
- ğŸš€ ç§»é™¤zliveæ¨¡å—å‡å°‘ä½“ç§¯çº¦10%
- ğŸ“¦ æ¨¡å—åŒ–æ¶æ„ä¾¿äºç»´æŠ¤å’Œæ›´æ–°
- âš¡ æŒ‰éœ€åŠ è½½æå‡å¯åŠ¨æ€§èƒ½
- ğŸ”§ ç»Ÿä¸€ä¾èµ–ç®¡ç†é¿å…å†²çª

## ğŸ“‹ å®æ–½æ£€æŸ¥æ¸…å•

- [ ] åˆ›å»ºonevodæ¨¡å—ç›®å½•ç»“æ„
- [ ] å¤åˆ¶FongMi_TVæ‰€æœ‰æºç (é™¤zlive)
- [ ] é…ç½®build.gradle.ktsæ–‡ä»¶
- [ ] ä¿®æ”¹AndroidManifest.xml
- [ ] æ›´æ–°settings.gradle.kts
- [ ] é…ç½®æ‰€æœ‰å­æ¨¡å—
- [ ] æµ‹è¯•ç¼–è¯‘æ„å»º
- [ ] éªŒè¯åŠŸèƒ½å®Œæ•´æ€§
- [ ] å®ç°é…ç½®å…±äº«
- [ ] é›†æˆåˆ°ä¸»åº”ç”¨

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **åŒ…åå†²çª**ï¼šç¡®ä¿ä¸ä¸ä¸»åº”ç”¨åŒ…åå†²çª
2. **èµ„æºå†²çª**ï¼šæ£€æŸ¥èµ„æºIDå’Œåç§°å†²çª
3. **ä¾èµ–ç‰ˆæœ¬**ï¼šç»Ÿä¸€ä¾èµ–åº“ç‰ˆæœ¬é¿å…å†²çª
4. **æƒé™å£°æ˜**ï¼šç¡®ä¿æ‰€éœ€æƒé™åœ¨ä¸»åº”ç”¨ä¸­å£°æ˜
5. **ProGuardè§„åˆ™**ï¼šæ·»åŠ å¿…è¦çš„æ··æ·†è§„åˆ™

## ğŸ”„ åç»­ä¼˜åŒ–

1. **Javaè½¬Kotlin**ï¼šå¯é€‰çš„æ¸è¿›å¼è½¬æ¢
2. **æ¶æ„ç»Ÿä¸€**ï¼šä¸ä¸»åº”ç”¨æ¶æ„æ¨¡å¼ç»Ÿä¸€
3. **ä¸»é¢˜é€‚é…**ï¼šé€‚é…ä¸»åº”ç”¨UIä¸»é¢˜
4. **æ€§èƒ½ä¼˜åŒ–**ï¼šè¿›ä¸€æ­¥ä¼˜åŒ–æ„å»ºå’Œè¿è¡Œæ€§èƒ½
```
